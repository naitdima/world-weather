{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ui/AppButton.vue?3f22","webpack:///./src/components/ui/SvgIcon.vue?7353","webpack:///./src/components/CardWeather.vue?9c73","webpack:///./src/components/ModalChooseCity.vue?4613","webpack:///./src/api/network.js","webpack:///./src/App.vue","webpack:///./src/components/ui/AppButton.vue","webpack:///./src/components/ui/SvgIcon.vue","webpack:///./src/components/ui/SvgIcon.vue?ae6d","webpack:///./src/components/ui/AppButton.vue?7723","webpack:///./src/components/CardWeather.vue","webpack:///./src/utils/formatDate.js","webpack:///./src/components/CardWeather.vue?3754","webpack:///./src/components/ModalChooseCity.vue","webpack:///./src/components/ui/AppModal.vue","webpack:///./src/components/ui/AppModal.vue?5223","webpack:///./src/components/ui/AppInput.vue","webpack:///./src/components/ui/AppInput.vue?bb7a","webpack:///./src/components/ModalChooseCity.vue?5d32","webpack:///./src/api/base.js","webpack:///./src/api/weather.js","webpack:///./src/api/geocoding.js","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///./src/components/ui/AppModal.vue?e112","webpack:///./src/components/ui/AppInput.vue?22f8","webpack:///./src/assets/icons sync ^\\.\\/.*\\.svg$","webpack:///./src/App.vue?182f","webpack:///./src/assets/icons/plus.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","NetworkError","code","message","Error","class","currentWeather","weather","current","getCurrentWeather","weathers","index","city","id","removable","reloadWeather","removeWeather","icon","chooseCityModalIsVisible","addWeatherByCityName","position","className","xmlns","title","xlink:href","iconPath","xmlns:xlink","props","type","String","required","default","computed","this","url","__exports__","components","SvgIcon","validate","includes","classes","country","common","params","timerKey","getTimeAgo","updatedDate","$emit","date","UNITS","dateTime","DateTime","fromISO","diff","diffNow","shiftTo","unit","find","relativeFormatter","Intl","RelativeTimeFormat","numeric","format","Math","trunc","as","getCurrentISODate","Date","toISOString","MINUTE_IN_MILLISECONDS","emits","AppButton","Boolean","timer","main","Weather","Temperature","temp","Humidity","humidity","mounted","setInterval","beforeUnmount","clearInterval","methods","description","ref","v$","$model","error","inputError","placeholder","clear","close","add","to","$attrs","modelValue","$event","target","focus","$refs","input","AppModal","AppInput","setup","validations","withMessage","regex","$errors","$validator","document","addEventListener","onKeyPress","focusInput","removeEventListener","$reset","$touch","$invalid","Base","_api","Proxy","_","method","ky","json","response","status","VUE_APP_OPENWEATHERMAP_API_KEY","process","ERROR_MESSAGE","401","404","errorMessage","Geocoding","lat","lon","CardWeather","ModalChooseCity","undefined","getSavedWeathers","watch","deep","handler","val","localStorage","setItem","JSON","stringify","map","getWeatherByCityName","savedWeatherCityNames","getItem","Promise","all","parse","savedWeathers","cityName","alreadyHasWeather","some","$notify","text","getByCity","getCountryByCode","sys","getCurrentPosition","resolve","reject","navigator","geolocation","coords","latitude","longitude","getCityByGeoCoords","render","app","createApp","App","use","Notifications","config","errorHandler","e","vm","mount","webpackContext","req","webpackContextResolve","keys","viewBox","toString"],"mappings":"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","file":"js/app.930720dd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/world-weather/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./AppButton.vue?vue&type=style&index=0&id=4bcfe8f4&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SvgIcon.vue?vue&type=style&index=0&id=7fbd0462&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CardWeather.vue?vue&type=style&index=0&id=5bb8a1eb&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ModalChooseCity.vue?vue&type=style&index=0&id=5e1c375c&lang=scss&scoped=true\"","export class NetworkError extends Error {\n  constructor(code, message = 'An error occurred. Please try again later.') {\n    super()\n    this.code = code\n    this.message = message\n  }\n}\n","<template>\n  <div class=\"main-page\">\n    <h1 class=\"main-page__title\">World Weather</h1>\n    <p class=\"main-page__description\">Watch weather in your current location</p>\n    <card-weather\n      v-if=\"currentWeather\"\n      class=\"main-page__weather-card main-page__weather-card_current\"\n      :weather=\"currentWeather\"\n      current\n      @reload=\"getCurrentWeather\"\n    />\n    <p\n      v-else-if=\"currentWeather === null\"\n      class=\"main-page__error\"\n    >\n      Failed to get the current location\n    </p>\n    <div\n      v-if=\"weathers.length > 0\"\n      class=\"main-page__weather-cards\"\n    >\n      <card-weather\n        v-for=\"(weather, index) in weathers\"\n        :key=\"weather.city.id\"\n        class=\"main-page__weather-card\"\n        :weather=\"weather\"\n        removable\n        @reload=\"reloadWeather(weather, index)\"\n        @remove=\"removeWeather(index)\"\n      />\n    </div>\n    <app-button\n      class=\"main-page__add-btn\"\n      icon=\"plus\"\n      @click=\"chooseCityModalIsVisible = true\"\n    />\n  </div>\n  <modal-choose-city\n    v-if=\"chooseCityModalIsVisible\"\n    @add=\"addWeatherByCityName\"\n    @close=\"chooseCityModalIsVisible = false\"\n  />\n  <notifications position=\"bottom center\" />\n</template>\n\n<script>\nimport AppButton from '@/components/ui/AppButton.vue'\nimport CardWeather from '@/components/CardWeather.vue'\nimport ModalChooseCity from '@/components/ModalChooseCity.vue'\nimport Weather from '@/api/weather'\nimport Geocoding from '@/api/geocoding'\n\nexport default {\n  name: 'App',\n  components: {\n    AppButton,\n    CardWeather,\n    ModalChooseCity\n  },\n  data() {\n    return {\n      chooseCityModalIsVisible: false,\n      currentWeather: undefined,\n      weathers: []\n    }\n  },\n  async mounted() {\n    await this.getCurrentWeather()\n    await this.getSavedWeathers()\n  },\n  watch: {\n    weathers: {\n      deep: true,\n      handler(val) {\n        localStorage.setItem('WEATHER_CITY_NAMES', JSON.stringify(val.map(weather => weather.city.name)))\n      }\n    }\n  },\n  methods: {\n    async reloadWeather({ city: { name } }, index) {\n      const weather = await this.getWeatherByCityName(name)\n      this.weathers.splice(index, 1, weather)\n    },\n    removeWeather(index) {\n      this.weathers.splice(index, 1)\n    },\n    async getSavedWeathers() {\n      const savedWeatherCityNames = localStorage.getItem('WEATHER_CITY_NAMES')\n      if (savedWeatherCityNames) {\n        const savedWeathers = await Promise.all(JSON.parse(savedWeatherCityNames).map(this.getWeatherByCityName))\n        this.weathers.push(...savedWeathers)\n      }\n    },\n    async addWeatherByCityName(cityName) {\n      const weather = await this.getWeatherByCityName(cityName)\n      const { city: { id } } = weather\n      const alreadyHasWeather = this.weathers.some(weather => weather.city.id === id)\n      if (alreadyHasWeather) {\n        return this.$notify({\n          type: 'error',\n          text: 'Weather for this city is already displayed'\n        })\n      }\n      this.weathers.push(weather)\n      this.chooseCityModalIsVisible = false\n    },\n    async getWeatherByCityName(cityName) {\n      const city = await Weather.getByCity(cityName)\n      const [country] = await Geocoding.getCountryByCode(city.sys.country)\n      return {\n        city,\n        country,\n        updatedDate: (new Date()).toISOString()\n      }\n    },\n    async getCurrentWeather() {\n      const getCurrentPosition = () => {\n        return new Promise((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(resolve, reject)\n        })\n      }\n\n      try {\n        const { coords: { latitude, longitude } } = await getCurrentPosition()\n        const { city } = await Geocoding.getCityByGeoCoords(latitude, longitude)\n        this.currentWeather = await this.getWeatherByCityName(city)\n      } catch (e) {\n        this.currentWeather = null\n        throw e\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variables.scss\";\n\n.main-page {\n  padding: 24px 24px 34px 24px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: var(--color-text-primary);\n\n  @media (max-width: $viewport-desktop) {\n    padding: 20px 20px 80px 20px;\n  }\n\n  @media (max-width: $viewport-tablet) {\n    padding: 16px 16px 80px 16px;\n  }\n}\n\n.main-page__title {\n  margin-bottom: 32px;\n  font-size: 70px;\n  line-height: 80px;\n  font-weight: 300;\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 55px;\n    line-height: 65px;\n    margin-bottom: 12px;\n  }\n\n  @media (max-width: $viewport-tablet) {\n    font-size: 40px;\n    line-height: 50px;\n    margin-bottom: 8px;\n  }\n}\n\n.main-page__description {\n  margin-bottom: 20px;\n  font-size: 24px;\n  line-height: 24px;\n  color: var(--color-text-regular);\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 20px;\n    margin-bottom: 18px;\n  }\n\n  @media (max-width: $viewport-tablet) {\n    font-size: 18px;\n    margin-bottom: 18px;\n  }\n}\n\n.main-page__error {\n  font-size: 16px;\n  line-height: 24px;\n  color: var(--color-error);\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 14px;\n    line-height: 18px;\n  }\n}\n\n.main-page__weather-cards {\n  width: 100%;\n  margin-top: 80px;\n  display: grid;\n  justify-content: center;\n  grid-template-columns: repeat(auto-fill, 350px);\n  gap: 40px;\n\n  @media (max-width: $viewport-desktop) {\n    margin-top: 40px;\n    gap: 20px;\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  }\n\n  @media (max-width: $viewport-tablet) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n}\n\n.main-page__weather-card {\n  &_current {\n    width: 824px;\n\n    @media (max-width: $viewport-desktop) {\n      width: 100%;\n      max-width: 660px;\n    }\n  }\n\n  @media (max-width: $viewport-tablet) {\n    width: 100%;\n    max-width: 460px;\n  }\n}\n\n.main-page__add-btn {\n  position: fixed;\n  right: 45px;\n  bottom: 34px;\n\n  @media (max-width: $viewport-desktop) {\n    right: 15px;\n    bottom: 15px;\n  }\n}\n</style>\n","<template>\n  <button :class=\"className\">\n    <svg-icon\n      v-if=\"icon\"\n      class=\"app-button__icon\"\n      name=\"plus\"\n    />\n    <slot v-else />\n  </button>\n</template>\n\n<script>\nimport SvgIcon from '@/components/ui/SvgIcon.vue'\n\nexport default {\n  name: 'AppButton',\n  components: {\n    SvgIcon\n  },\n  props: {\n    type: {\n      type: String,\n      validate(value) {\n        return ['primary'].includes(value)\n      }\n    },\n    icon: String\n  },\n  computed: {\n    className() {\n      const classes = ['app-button']\n      if (this.type) {\n        classes.push(`app-button_${this.type}`)\n      }\n      if (this.icon) {\n        classes.push('app-button_icon')\n      }\n      return classes\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variables.scss\";\n\n.app-button {\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 700;\n  text-transform: uppercase;\n  color: var(--color-text-placeholder);\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  background-color: transparent;\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  &:hover {\n    opacity: 0.8;\n  }\n\n  &:active {\n    opacity: 0.6;\n  }\n\n  &_primary {\n    color: var(--color-primary);\n  }\n\n  &_icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 56px;\n    height: 56px;\n    background-color: var(--color-primary);\n    box-shadow: 0 4px 5px rgba(0, 0, 0, 0.14), 0 1px 10px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.2);\n    border-radius: 50px;\n\n    @media (max-width: $viewport-desktop) {\n      width: 50px;\n      height: 50px;\n    }\n  }\n}\n\n.app-button__icon {\n  width: 14px;\n  height: 14px;\n  fill: var(--color-white);\n\n  @media (max-width: $viewport-desktop) {\n    width: 12px;\n    height: 12px;\n  }\n}\n</style>\n","<template>\n  <svg :class=\"className\" xmlns=\"http://www.w3.org/2000/svg\">\n    <title v-if=\"title\">{{ title }}</title>\n    <use :xlink:href=\"iconPath\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"/>\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: 'svg-icon',\n\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n\n    title: {\n      type: String,\n      default: null\n    }\n  },\n\n  computed: {\n    iconPath() {\n      let icon = require(`@/assets/icons/${this.name}.svg`);\n      if (Object.prototype.hasOwnProperty.call(icon, 'default')) {\n        icon = icon.default;\n      }\n\n      return icon.url;\n    },\n\n    className() {\n      return 'svg-icon svg-icon--' + this.name;\n    }\n  }\n};\n</script>\n\n<style>\n  .svg-icon {\n    fill: currentColor;\n    height: 24px;\n    width: 24px;\n  }\n</style>\n","import { render } from \"./SvgIcon.vue?vue&type=template&id=7fbd0462\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=js\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=js\"\n\nimport \"./SvgIcon.vue?vue&type=style&index=0&id=7fbd0462&lang=css\"\n\nimport exportComponent from \"/Users/naitdima/dev/world-weather/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AppButton.vue?vue&type=template&id=4bcfe8f4&scoped=true\"\nimport script from \"./AppButton.vue?vue&type=script&lang=js\"\nexport * from \"./AppButton.vue?vue&type=script&lang=js\"\n\nimport \"./AppButton.vue?vue&type=style&index=0&id=4bcfe8f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/naitdima/dev/world-weather/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4bcfe8f4\"]])\n\nexport default __exports__","<template>\n  <div class=\"card-weather\">\n    <h3 class=\"card-weather__name\">\n      {{ weather.city.name }}\n    </h3>\n    <p class=\"card-weather__location\">\n      {{ current ? 'Your current location' : weather.country.name.common }}\n    </p>\n    <div class=\"card-weather__params\">\n      <div\n        v-for=\"(value, title) in params\"\n        :key=\"title\"\n        class=\"card-weather__params-row\"\n      >\n        <div class=\"card-weather__params-cell\">{{ title }}</div>\n        <div class=\"card-weather__params-cell\">{{ value }}</div>\n      </div>\n    </div>\n    <p\n      class=\"card-weather__timer\"\n      :key=\"timerKey\"\n    >\n      {{ getTimeAgo(weather.updatedDate) }}\n    </p>\n    <div class=\"card-weather__actions\">\n      <app-button\n        class=\"card-weather__action\"\n        type=\"primary\"\n        @click=\"$emit('reload')\"\n      >\n        Reload\n      </app-button>\n      <app-button\n        v-if=\"removable\"\n        class=\"card-weather__action\"\n        type=\"primary\"\n        @click=\"$emit('remove')\"\n      >\n        Remove\n      </app-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getTimeAgo } from '@/utils/formatDate'\nimport AppButton from '@/components/ui/AppButton.vue'\n\nconst getCurrentISODate = () => (new Date).toISOString()\nconst MINUTE_IN_MILLISECONDS = 60000\n\nexport default {\n  name: 'CardWeather',\n  emits: ['reload', 'remove'],\n  components: {\n    AppButton\n  },\n  props: {\n    weather: {\n      type: Object,\n      required: true\n    },\n    current: {\n      type: Boolean,\n      default: false\n    },\n    removable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      timer: null,\n      timerKey: getCurrentISODate()\n    }\n  },\n  computed: {\n    params() {\n      const { weather, main } = this.weather.city\n      return {\n        Weather: weather[0].main,\n        Temperature: `${main.temp} ℃`,\n        Humidity: `${main.humidity} %`\n      }\n    }\n  },\n  mounted() {\n    this.timer = setInterval(() => this.timerKey = getCurrentISODate(), MINUTE_IN_MILLISECONDS);\n  },\n  beforeUnmount() {\n    clearInterval(this.timer)\n  },\n  methods: {\n    getTimeAgo\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variables.scss\";\n\n.card-weather {\n  padding: 24px;\n  box-shadow: 0 2px 10px rgba(10, 10, 10, 0.25);\n  border-radius: 6px;\n\n  @media (max-width: $viewport-desktop) {\n    padding: 20px;\n  }\n\n  @media (max-width: $viewport-tablet) {\n    padding: 14px;\n  }\n}\n\n.card-weather__name {\n  margin-bottom: 15px;\n  font-size: 32px;\n  line-height: 38px;\n  font-weight: 700;\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 28px;\n    line-height: 32px;\n    margin-bottom: 8px;\n  }\n}\n\n.card-weather__location {\n  margin-bottom: 40px;\n  font-size: 18px;\n  line-height: 24px;\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 14px;\n    line-height: 20px;\n    margin-bottom: 20px;\n  }\n}\n\n.card-weather__actions {\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n}\n\n.card-weather__params {\n  margin-bottom: 8px;\n}\n\n.card-weather__params-row {\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 12px;\n  border-bottom: 1px solid var(--color-border);\n\n  &:not(:last-child) {\n    margin-bottom: 16px;\n  }\n\n  @media (max-width: $viewport-desktop) {\n    padding-bottom: 10px;\n\n    &:not(:last-child) {\n      margin-bottom: 12px;\n    }\n  }\n\n  @media (max-width: $viewport-tablet) {\n    padding-bottom: 8px;\n\n    &:not(:last-child) {\n      margin-bottom: 8px;\n    }\n  }\n}\n\n.card-weather__params-cell {\n  font-size: 18px;\n  line-height: 24px;\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 16px;\n    line-height: 20px;\n  }\n}\n\n.card-weather__timer {\n  margin-bottom: 32px;\n  text-align: right;\n  font-size: 16px;\n  line-height: 24px;\n  color: var(--color-text-secondary);\n\n  @media (max-width: $viewport-desktop) {\n    margin-bottom: 26px;\n    font-size: 14px;\n    line-height: 20px;\n  }\n}\n</style>\n","import { DateTime } from 'luxon'\n\n// Copied from: https://github.com/moment/luxon/issues/274#issuecomment-729126515\nexport function getTimeAgo(date) {\n  const UNITS = [\n    'year',\n    'month',\n    'week',\n    'day',\n    'hour',\n    'minute'\n  ];\n\n  let dateTime = DateTime.fromISO(date)\n  const diff = dateTime.diffNow().shiftTo(...UNITS);\n  const unit = UNITS.find((unit) => diff.get(unit) !== 0) || 'second';\n\n  const relativeFormatter = new Intl.RelativeTimeFormat('en', {\n    numeric: 'auto',\n  });\n  return relativeFormatter.format(Math.trunc(diff.as(unit)), unit);\n}\n","import { render } from \"./CardWeather.vue?vue&type=template&id=5bb8a1eb&scoped=true\"\nimport script from \"./CardWeather.vue?vue&type=script&lang=js\"\nexport * from \"./CardWeather.vue?vue&type=script&lang=js\"\n\nimport \"./CardWeather.vue?vue&type=style&index=0&id=5bb8a1eb&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/naitdima/dev/world-weather/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5bb8a1eb\"]])\n\nexport default __exports__","<template>\n  <app-modal\n    class=\"modal-choose-city\"\n    title=\"Choose a city\"\n    description=\"To find city start typing and pick one from the suggestions\"\n  >\n    <app-input\n      ref=\"input\"\n      class=\"modal-choose-city__input\"\n      v-model=\"v$.name.$model\"\n      :error=\"inputError\"\n      placeholder=\"Search city\"\n    />\n    <div class=\"modal-choose-city__actions\">\n      <app-button\n        class=\"modal-choose-city__action\"\n        @click=\"clear\"\n      >\n        Clear\n      </app-button>\n      <app-button\n        class=\"modal-choose-city__action\"\n        type=\"primary\"\n        @click=\"close\"\n      >\n        Cancel\n      </app-button>\n      <app-button\n        class=\"modal-choose-city__action\"\n        @click=\"add\"\n      >\n        Add\n      </app-button>\n    </div>\n  </app-modal>\n</template>\n\n<script>\nimport AppModal from '@/components/ui/AppModal.vue'\nimport AppInput from '@/components/ui/AppInput.vue'\nimport AppButton from '@/components/ui/AppButton.vue'\n\nimport useVuelidate from '@vuelidate/core'\nimport { required, helpers } from '@vuelidate/validators'\n\nexport default {\n  name: 'ModalChooseCity',\n  emits: ['close', 'add'],\n  components: {\n    AppModal,\n    AppInput,\n    AppButton\n  },\n  setup () {\n    return { v$: useVuelidate() }\n  },\n  data() {\n    return {\n      name: ''\n    }\n  },\n  validations () {\n    return {\n      name: {\n        required: helpers.withMessage('City name cannot be empty', required),\n        regex: helpers.regex(/^[a-zA-Z]+(?:[\\s-][a-zA-Z]+)*$/)\n      }\n    }\n  },\n  computed: {\n    inputError() {\n      const { $errors } = this.v$.name\n      if ($errors.length === 0) {\n        return null\n      }\n      const [{ $validator }] = $errors\n      switch ($validator) {\n        case 'required':\n          return 'City name cannot be empty'\n        case 'regex':\n          return 'City name is not valid. Use only latin letters, spaces and dashes.'\n        default:\n          return 'City name is not valid'\n      }\n    }\n  },\n  mounted() {\n    document.addEventListener('keydown', this.onKeyPress)\n    this.focusInput()\n  },\n  beforeUnmount() {\n    document.removeEventListener('keydown', this.onKeyPress)\n  },\n  methods: {\n    focusInput() {\n      this.$refs.input?.focus()\n    },\n    onKeyPress({ key }) {\n      switch (key) {\n        case 'Enter':\n          return this.add()\n        case 'Escape':\n          return this.close()\n      }\n    },\n    clear() {\n      this.name = ''\n      this.v$.$reset()\n      this.focusInput()\n    },\n    close() {\n      this.$emit('close')\n    },\n    add() {\n      this.v$.$touch()\n      if (this.v$.$invalid) {\n        return\n      }\n      this.$emit('add', this.name)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variables.scss\";\n\n::v-global(.modal-choose-city) {\n  width: 751px;\n\n  @media (max-width: $viewport-desktop) {\n    width: 80%;\n    max-width: 600px;\n  }\n\n  @media (max-width: $viewport-tablet) {\n    width: 95%;\n  }\n}\n\n.modal-choose-city__input {\n  margin-top: 51px;\n  width: 100%;\n  margin-bottom: 104px;\n\n  @media (max-width: $viewport-desktop) {\n    margin-top: 30px;\n    margin-bottom: 60px;\n  }\n}\n\n.modal-choose-city__actions {\n  display: flex;\n  align-items: center;\n}\n\n.modal-choose-city__action {\n  &:nth-child(2) {\n    margin-left: auto;\n  }\n\n  &:not(:last-child) {\n    margin-right: 31px;\n  }\n\n  @media (max-width: $viewport-tablet) {\n    &:not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n}\n</style>\n","<template>\n  <teleport to=\"body\">\n    <div class=\"app-modal\">\n      <div class=\"app-modal__overlay\"></div>\n      <div\n        class=\"app-modal__container\"\n        v-bind=\"$attrs\"\n      >\n        <h5 class=\"app-modal__title\">{{ title }}</h5>\n        <p class=\"app-modal__description\">{{ description }}</p>\n        <slot/>\n      </div>\n    </div>\n  </teleport>\n</template>\n\n<script>\nexport default {\n  name: 'AppModal',\n  props: {\n    title: String,\n    description: String\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variables.scss\";\n\n.app-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.app-modal__container {\n  position: relative;\n  padding: 24px;\n  background: var(--color-white);\n  box-shadow: 0 16px 24px rgba(0, 0, 0, 0.14), 0 6px 30px rgba(0, 0, 0, 0.12), 0 8px 10px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n\n  @media (max-width: $viewport-desktop) {\n    padding: 20px;\n  }\n\n  @media (max-width: $viewport-tablet) {\n    padding: 14px;\n  }\n}\n\n.app-modal__title {\n  font-size: 32px;\n  line-height: 38px;\n  font-weight: 700;\n  color: var(--color-text-primary);\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 24px;\n    line-height: 28px;\n  }\n}\n\n.app-modal__description {\n  margin-top: 16px;\n  font-size: 24px;\n  line-height: 24px;\n  color: var(--color-text-regular);\n\n  @media (max-width: $viewport-desktop) {\n    margin-top: 8px;\n    font-size: 18px;\n  }\n}\n\n.app-modal__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(11, 11, 11, 0.5);\n}\n</style>\n","import { render } from \"./AppModal.vue?vue&type=template&id=1f1d465b&scoped=true\"\nimport script from \"./AppModal.vue?vue&type=script&lang=js\"\nexport * from \"./AppModal.vue?vue&type=script&lang=js\"\n\nimport \"./AppModal.vue?vue&type=style&index=0&id=1f1d465b&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/naitdima/dev/world-weather/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f1d465b\"]])\n\nexport default __exports__","<template>\n  <div\n    :class=\"['app-input', { 'app-input_error': error }]\"\n  >\n    <input\n      ref=\"input\"\n      class=\"app-input__input\"\n      :placeholder=\"placeholder\"\n      :value=\"modelValue\"\n      @input=\"$emit('update:modelValue', $event.target.value)\"\n    >\n    <p\n      v-if=\"error\"\n      class=\"app-input__error\"\n    >\n      {{ error }}\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AppInput',\n  props: {\n    modelValue: String,\n    placeholder: String,\n    error: String,\n  },\n  emits: ['update:modelValue'],\n  methods: {\n    focus() {\n      this.$refs.input?.focus()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variables.scss\";\n\n$input-height: 57px;\n$error-height: 24px;\n$error-margin-top: 12px;\n\n$input-height-mobile: 40px;\n$error-height-mobile: 14px;\n$error-margin-top-mobile: 8px;\n\n.app-input {\n  position: relative;\n  padding-bottom: calc(#{$error-height} + #{$error-margin-top});\n\n  &_error {\n    .app-input__input {\n      border-color: var(--color-error);\n    }\n  }\n\n  @media (max-width: $viewport-desktop) {\n    padding-bottom: calc(#{$error-height-mobile} + #{$error-margin-top-mobile});\n  }\n}\n\n.app-input__input {\n  width: 100%;\n  display: block;\n  height: $input-height;\n  font-size: 24px;\n  font-weight: 500;\n  padding: 16px 0;\n  color: var(--color-text-primary);\n  border: none;\n  border-bottom: 1px solid var(--color-text-primary);\n  outline: none;\n\n  &::placeholder {\n    color: var(--color-text-placeholder);\n  }\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 18px;\n    line-height: 24px;\n    padding: 8px 0;\n    height: $input-height-mobile;\n  }\n}\n\n.app-input__error {\n  position: absolute;\n  top: calc(#{$input-height} + #{$error-margin-top});\n  left: 0;\n  width: 100%;\n  font-size: 16px;\n  line-height: $error-height;\n  color: var(--color-error);\n\n  @media (max-width: $viewport-desktop) {\n    font-size: 12px;\n    line-height: $error-height-mobile;\n    top: calc(#{$input-height-mobile} + #{$error-margin-top-mobile});\n  }\n}\n</style>\n","import { render } from \"./AppInput.vue?vue&type=template&id=4c68cf69&scoped=true\"\nimport script from \"./AppInput.vue?vue&type=script&lang=js\"\nexport * from \"./AppInput.vue?vue&type=script&lang=js\"\n\nimport \"./AppInput.vue?vue&type=style&index=0&id=4c68cf69&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/naitdima/dev/world-weather/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c68cf69\"]])\n\nexport default __exports__","import { render } from \"./ModalChooseCity.vue?vue&type=template&id=5e1c375c&scoped=true\"\nimport script from \"./ModalChooseCity.vue?vue&type=script&lang=js\"\nexport * from \"./ModalChooseCity.vue?vue&type=script&lang=js\"\n\nimport \"./ModalChooseCity.vue?vue&type=style&index=0&id=5e1c375c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/naitdima/dev/world-weather/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e1c375c\"]])\n\nexport default __exports__","import ky from 'ky'\nimport { NetworkError } from '@/api/network'\n\nexport default class Base {\n  constructor() {\n    this._api = new Proxy({}, {\n      get: (_, method) => async (...params) => {\n        try {\n          return await ky[method](...params).json()\n        } catch (e) {\n          if (e.name === 'HTTPError') {\n            throw new NetworkError(e.response.status)\n          } else {\n            throw e\n          }\n        }\n      }\n    })\n  }\n}\n","import { NetworkError } from '@/api/network'\nimport Base from '@/api/base'\nconst { VUE_APP_OPENWEATHERMAP_API_KEY } = process.env\n\nconst ERROR_MESSAGE = {\n  401: 'Check that the API-key is correct',\n  404: 'Weather for this city not found'\n}\n\nclass Weather extends Base {\n  async getByCity(city) {\n    try {\n      return await this._api.get(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${VUE_APP_OPENWEATHERMAP_API_KEY}&units=metric`)\n    } catch (e) {\n      const errorMessage = ERROR_MESSAGE[e.code]\n      if (errorMessage) {\n        throw new NetworkError(e.code, errorMessage)\n      } else {\n        throw e\n      }\n    }\n  }\n}\n\nexport default new Weather()\n","import Base from '@/api/base'\n\nclass Geocoding extends Base {\n  async getCountryByCode(code) {\n    return await this._api.get(`https://restcountries.com/v3.1/alpha/${code}`)\n  }\n\n  async getCityByGeoCoords(lat, lon) {\n    return await this._api.get(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`)\n  }\n}\n\nexport default new Geocoding()\n","import { render } from \"./App.vue?vue&type=template&id=74424f18&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=74424f18&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/naitdima/dev/world-weather/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74424f18\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport Notifications from '@kyvg/vue3-notification'\n\nimport { NetworkError } from '@/api/network'\n\nimport 'reset-css'\nimport '@/assets/styles/global.css'\n\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.use(Notifications)\n\napp.config.errorHandler = (e, vm) => vm.$notify({\n  type: 'error',\n  text: e instanceof NetworkError ? e.message : 'An error occurred'\n})\n\napp.mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./AppModal.vue?vue&type=style&index=0&id=1f1d465b&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./AppInput.vue?vue&type=style&index=0&id=4c68cf69&lang=scss&scoped=true\"","var map = {\n\t\"./plus.svg\": \"eb38\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"6f32\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=74424f18&lang=scss&scoped=true\"","export default {\n      id: \"plus-usage\",\n      viewBox: \"0 0 14 14\",\n      url: __webpack_public_path__ + \"img/icons.3720fe4c.svg#plus\",\n      toString: function () {\n        return this.url;\n      }\n    }"],"sourceRoot":""}